{"version":3,"sources":["../../../../src/test/unit/test-react-components/test-coverage-file-table-row.js"],"names":["REACT_COMPONENT","FlowCoverageFileTableRow","require","props","filename","covered_count","uncovered_count","disableLink","wrapper","expectedKeys","t","is","find","length","shallowWrapper","i","expectedKey","at","key","baseErrorProps","isError","testErrorProp","expectedErrorRegEx","true","hasClass","errorIcon","errorPopup","regex","text","flowCoverageErrorProps","flowCoverageError","flowCoverageParsingErrorProps","flowCoverageParsingError","flowCoverageExceptionErrorProps","flowCoverageException","flowCoverageUnrecognizedErrorProps","flowCoverageStderr","todo"],"mappings":"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","file":"test-coverage-file-table-row.js","sourcesContent":["'use babel';\n\n/* eslint-disable react/jsx-filename-extension */\n\nimport {test} from 'ava';\n\nimport React from 'react';\nimport {shallow} from 'enzyme';\n\nimport {BASE_DIR} from './common';\n\nconst REACT_COMPONENT = `${BASE_DIR}/coverage-file-table-row`;\n\ntest('<FlowCoverageFileTableRow />', t => {\n  const FlowCoverageFileTableRow = require(REACT_COMPONENT);\n  const props = {\n    /* eslint-disable camelcase */\n    filename: 'fake-filename.js',\n    covered_count: 1,\n    uncovered_count: 2,\n    disableLink: false\n    /* eslint-enable camelcase */\n  };\n  const wrapper = shallow(<FlowCoverageFileTableRow {...props}/>);\n\n  const expectedKeys = [\n    'filename', 'percent', 'total', 'covered', 'uncovered'\n  ];\n\n  t.is(wrapper.find('tr').length, 1);\n  t.is(wrapper.find('td').length, expectedKeys.length);\n\n  const shallowWrapper = shallow(<FlowCoverageFileTableRow {...props}/>);\n\n  let i = 0;\n  for (const expectedKey of expectedKeys) {\n    t.is(shallowWrapper.find('td').at(i).key(), expectedKey);\n    i++;\n  }\n});\n\ntest('<FlowCoverageFileTableRow /> with errors', t => {\n  const FlowCoverageFileTableRow = require(REACT_COMPONENT);\n  const baseErrorProps = {\n    filename: 'fake-filename.js',\n    disableLink: true,\n    isError: true,\n\n    /* eslint-disable camelcase */\n    covered_count: 0,\n    uncovered_count: 0\n    /* eslint-enable camelcase */\n  };\n\n  const testErrorProp = (props, expectedErrorRegEx) => {\n    let wrapper = shallow(<FlowCoverageFileTableRow {...props}/>);\n\n    const expectedKeys = [\n      'filename', 'percent', 'total', 'covered', 'uncovered'\n    ];\n\n    t.is(wrapper.find('tr').length, 1);\n    t.true(wrapper.find('tr').hasClass('error'), 1);\n\n    t.is(wrapper.find('td').length, expectedKeys.length);\n\n    let i = 0;\n    for (const expectedKey of expectedKeys) {\n      t.is(wrapper.find('td').at(i).key(), expectedKey);\n      i++;\n    }\n\n    let errorIcon = wrapper.find('.attention.icon');\n    t.is(errorIcon.length, 1);\n\n    let errorPopup = wrapper.find('.ui.popup');\n    t.is(errorPopup.length, 1);\n\n    t.regex(errorPopup.text(), expectedErrorRegEx);\n  };\n\n  let flowCoverageErrorProps = {\n    ...baseErrorProps,\n    flowCoverageError: 'Fake Coverage Error'\n  };\n  testErrorProp(flowCoverageErrorProps, /Fake Coverage Error/);\n\n  let flowCoverageParsingErrorProps = {\n    ...baseErrorProps,\n    flowCoverageParsingError: 'Fake Parsing Error'\n  };\n  testErrorProp(flowCoverageParsingErrorProps, /Fake Parsing Error/);\n\n  let flowCoverageExceptionErrorProps = {\n    ...baseErrorProps,\n    flowCoverageException: 'Fake Coverage Exception'\n  };\n  testErrorProp(flowCoverageExceptionErrorProps, /Fake Coverage Exception/);\n\n  let flowCoverageUnrecognizedErrorProps = {\n    ...baseErrorProps,\n    flowCoverageStderr: 'Fake flow unrecognized error stderr'\n  };\n  testErrorProp(flowCoverageUnrecognizedErrorProps, /Fake flow unrecognized error stderr/);\n});\n\ntest.todo('<FlowCoverageFileTableRow /> with missing props');\n"]}